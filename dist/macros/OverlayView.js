"use strict";var m=Object.defineProperty;var u=(a,e,t)=>e in a?m(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var s=(a,e,t)=>(u(a,typeof e!="symbol"?e+"":e,t),t);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const c=require("../lodash-6bb8d3a5.cjs"),E=require("../browser-99223509.cjs"),p=require("react"),P=require("../index-d7652fce.cjs"),r=require("../index-5d68b4f3.cjs"),l=require("../utils/MapChildHelper.js"),d=require("../utils/OverlayViewHelper.js"),n=require("../constants-c61a5d3d.cjs"),_=`{
  "eventMapOverrides": { 
  },
  "getInstanceFromComponent": "this.state[OVERLAY_VIEW]"
}`;class o extends p.PureComponent{constructor(e,t){super(e,t);const i=new google.maps.OverlayView;i.onAdd=c._.bind(this.onAdd,this),i.draw=c._.bind(this.draw,this),i.onRemove=c._.bind(this.onRemove,this),this.onPositionElement=c._.bind(this.onPositionElement,this),i.setMap(this.context[n.MAP]),this.state={[n.OVERLAY_VIEW]:i}}onAdd(){this.containerElement=document.createElement("div"),this.containerElement.style.position="absolute"}draw(){const{mapPaneName:e}=this.props;E.invariant(!!e,"OverlayView requires either props.mapPaneName or props.defaultMapPaneName but got %s",e),this.state[n.OVERLAY_VIEW].getPanes()[e].appendChild(this.containerElement),this.forceUpdate(this.onPositionElement)}onPositionElement(){const e=this.state[n.OVERLAY_VIEW].getProjection(),t={x:0,y:0,...d.getOffsetOverride(this.containerElement,this.props)},i=d.getLayoutStyles(e,t,this.props);c._.assign(this.containerElement.style,i)}onRemove(){this.containerElement.parentNode.removeChild(this.containerElement),this.containerElement=null}componentDidMount(){l.componentDidMount(this,this.state[n.OVERLAY_VIEW],h)}componentDidUpdate(e){l.componentDidUpdate(this,this.state[n.OVERLAY_VIEW],h,A,e)}componentWillUnmount(){l.componentWillUnmount(this);const e=this.state[n.OVERLAY_VIEW];e&&(e.setMap(null),e.onAdd=null,e.draw=null,e.onRemove=null)}render(){return!!this.containerElement&&P.ReactDOM.createPortal(p.Children.only(this.props.children),this.containerElement)}}s(o,"FLOAT_PANE","floatPane"),s(o,"MAP_PANE","mapPane"),s(o,"MARKER_LAYER","markerLayer"),s(o,"OVERLAY_LAYER","overlayLayer"),s(o,"OVERLAY_MOUSE_TARGET","overlayMouseTarget"),s(o,"propTypes",{__jscodeshiftPlaceholder__:null,mapPaneName:r.PropTypes.string,position:r.PropTypes.object,bounds:r.PropTypes.object,children:r.PropTypes.node.isRequired,getPixelPositionOffset:r.PropTypes.func}),s(o,"contextTypes",{[n.MAP]:r.PropTypes.object,[n.ANCHOR]:r.PropTypes.object});const h={},A={};exports.OverlayView=o;exports.__jscodeshiftPlaceholder__=_;exports.default=o;
