"use strict";var u=Object.defineProperty;var m=(e,o,t)=>o in e?u(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t;var s=(e,o,t)=>(m(e,typeof o!="symbol"?o+"":o,t),t);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const P=require("../../lodash-6bb8d3a5.cjs"),C=require("../../browser-99223509.cjs"),_=require("../../index-c9c79dc5.cjs"),c=require("react"),M=require("../../index-d7652fce.cjs"),a=require("../../index-5d68b4f3.cjs"),r=require("../../utils/MapChildHelper.js"),n=require("../../constants-c61a5d3d.cjs"),A=`{
  "eventMapOverrides": {
  },
  "getInstanceFromComponent": "this.state[SEARCH_BOX]"
}`,i=class i extends c.PureComponent{constructor(){super(...arguments);s(this,"state",{[n.SEARCH_BOX]:null})}componentWillMount(){!_.canUseDOM||this.containerElement||(C.invariant(google.maps.places,'Did you include "libraries=places" in the URL?'),this.containerElement=document.createElement("div"))}componentDidMount(){let t=this.state[n.SEARCH_BOX];t=this.handleInitializeSearchBox(),r.componentDidMount(this,t,p),this.handleMountAtControlPosition()}componentWillUpdate(t){this.props.controlPosition!==t.controlPosition&&this.handleUnmountAtControlPosition()}componentDidUpdate(t){r.componentDidUpdate(this,this.state[n.SEARCH_BOX],p,d,t),this.props.children!==t.children&&this.handleRenderChildToContainerElement(),this.props.controlPosition!==t.controlPosition&&this.handleMountAtControlPosition()}componentWillUnmount(){r.componentWillUnmount(this),this.handleUnmountAtControlPosition()}handleInitializeSearchBox(){const t=new google.maps.places.SearchBox(this.containerElement.querySelector("input"));return r.construct(i.propTypes,d,this.props,t),this.setState({[n.SEARCH_BOX]:t}),t}handleMountAtControlPosition(){h(this.props.controlPosition)&&(this.mountControlIndex=-1+this.context[n.MAP].controls[this.props.controlPosition].push(this.containerElement.firstChild))}handleUnmountAtControlPosition(){if(h(this.props.controlPosition)){const t=this.context[n.MAP].controls[this.props.controlPosition].removeAt(this.mountControlIndex);t!==void 0&&this.containerElement.appendChild(t)}}render(){return M.ReactDOM.createPortal(c.Children.only(this.props.children),this.containerElement)}};s(i,"propTypes",{__jscodeshiftPlaceholder__:null,controlPosition:a.PropTypes.number}),s(i,"contextTypes",{[n.MAP]:a.PropTypes.object});let l=i;const h=P._.isNumber,p={},d={};exports.SearchBox=l;exports.__jscodeshiftPlaceholder__=A;exports.default=l;
